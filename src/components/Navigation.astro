---
// Navigation - clean minimal nav matching the mockup
---

<nav id="main-nav" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
  <div class="absolute inset-0 nav-background opacity-0 transition-opacity duration-300"></div>

  <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative">
    <div class="flex items-center justify-between h-16">

      <!-- Logo -->
      <a href="/" class="flex items-center gap-2.5 group">
        <img src="/ferriskey.png" alt="FerrisKey" class="w-7 h-7" />
        <span class="text-white font-bold text-lg">FerrisKey</span>
      </a>

      <!-- Desktop Nav -->
      <div class="hidden md:flex items-center gap-1">
        <a href="#console-preview" class="nav-link">Product</a>
        <a href="#modules" class="nav-link">Modules</a>
        <a href="#sponsors" class="nav-link">Community</a>
        <a
          href="https://docs.ferriskey.rs"
          target="_blank"
          rel="noopener noreferrer"
          class="nav-link"
        >
          Docs
        </a>
      </div>

      <!-- CTA -->
      <div class="hidden md:flex items-center gap-3">
        <a
          href="https://docs.ferriskey.rs/en/getting-started/introduction"
          target="_blank"
          class="bg-ferris-500 hover:bg-ferris-600 text-white font-semibold text-sm px-4 py-2 rounded-lg transition-colors duration-200"
        >
          Get Started
        </a>
      </div>

      <!-- Mobile button -->
      <button
        id="mobile-menu-button"
        class="md:hidden w-9 h-9 flex items-center justify-center rounded-lg border border-slate-700/50 text-slate-400 hover:text-white hover:border-slate-600 transition-colors"
        aria-label="Toggle menu"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden hidden border-t border-slate-800/50 bg-slate-950/95 backdrop-blur-md">
    <div class="container mx-auto px-4 py-4 space-y-1">
      <a href="#console-preview" class="mobile-nav-link">Product</a>
      <a href="#modules" class="mobile-nav-link">Modules</a>
      <a href="#sponsors" class="mobile-nav-link">Community</a>
      <a href="https://docs.ferriskey.rs" target="_blank" rel="noopener noreferrer" class="mobile-nav-link">Docs</a>
      <div class="pt-3">
        <a
          href="https://docs.ferriskey.rs/en/getting-started/introduction"
          target="_blank"
          class="block w-full text-center bg-ferris-500 hover:bg-ferris-600 text-white font-semibold px-4 py-2.5 rounded-lg transition-colors duration-200"
        >
          Get Started
        </a>
      </div>
    </div>
  </div>

  <!-- Scroll progress -->
  <div id="scroll-progress" class="absolute bottom-0 left-0 h-px bg-ferris-500 transition-all duration-150" style="width: 0%"></div>
</nav>

<style>
  .nav-background {
    background: rgba(2, 6, 23, 0.90);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(148, 163, 184, 0.08);
  }

  #main-nav.scrolled .nav-background {
    opacity: 1;
  }

  .nav-link {
    display: inline-flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
    border-radius: 0.5rem;
    color: #94a3b8;
    font-weight: 500;
    font-size: 0.875rem;
    transition: color 0.2s;
  }

  .nav-link:hover {
    color: white;
  }

  .mobile-nav-link {
    display: block;
    padding: 0.625rem 0.75rem;
    border-radius: 0.5rem;
    color: #94a3b8;
    font-size: 0.9rem;
    transition: color 0.2s;
  }

  .mobile-nav-link:hover {
    color: white;
  }
</style>

<script>
  const nav = document.getElementById('main-nav');
  const scrollProgress = document.getElementById('scroll-progress');

  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;

    if (currentScroll > 20) {
      nav?.classList.add('scrolled');
    } else {
      nav?.classList.remove('scrolled');
    }

    const windowHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const progress = (currentScroll / windowHeight) * 100;
    if (scrollProgress) {
      scrollProgress.style.width = `${progress}%`;
    }
  });

  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  mobileMenuButton?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  document.querySelectorAll('.mobile-nav-link').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
    });
  });
</script>
